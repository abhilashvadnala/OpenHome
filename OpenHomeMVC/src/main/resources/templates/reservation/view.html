<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Reservation Read</title>
<link href="/basic.css" rel="stylesheet" type="text/css">
</head>
<body>
	<h1>Reservation Read</h1>
	<div th:if="${hostAccess == true}">
		<div th:if="${#strings.toString(reservation.reservationState) == 'Booked' || #strings.toString(reservation.reservationState) == 'CheckedIn' }">
			<a th:href="@{'/reservation/cancel?reservationId=' + ${reservation.id}}">Cancel Reservation</a>
		</div>
	</div>
	<div th:if="${hostAccess == false}">
		<div th:if="${#strings.toString(reservation.reservationState) == 'Booked'}">
			<a th:href="@{'/reservation/checkIn?reservationId=' + ${reservation.id}}">Check In</a>
			<a th:href="@{'/reservation/cancel?reservationId=' + ${reservation.id}}">Cancel Reservation</a>
		</div>
		<div th:if="${#strings.toString(reservation.reservationState) == 'CheckedIn'}">
			<a th:href="@{'/reservation/checkOut?reservationId=' + ${reservation.id}}">Check Out</a>
		</div>
	</div>
	<a th:href="@{'/transaction/list?reservationId=' + ${reservation.id}}">View All Transactions</a>
	<table border="1">
		<tr>
			<td>Reservation Id</td>
			<td>[[${reservation.id}]]</td>
		</tr>
		<tr>
			<td>Reservation Created Date</td>
			<td>[[${reservation.createdDate}]]</td>
		</tr>
		<tr>
			<td>Reservation Check In</td>
			<td>[[${#dates.format(new java.util.Date(reservation.checkIn))}]]</td>
		</tr>
		<tr>
			<td>Reservation Check Out</td>
			<td>[[${#dates.format(new java.util.Date(reservation.checkOut))}]]</td>
		</tr>
		<tr>
			<td>Reservation Actual Check In</td>
			<td>[[${reservation.actualCheckIn == null ? '' : #dates.format(new java.util.Date(reservation.actualCheckIn))}]]</td>
		</tr>
		<tr>
			<td>Reservation Actual Check Out</td>
			<td>[[${#dates.format(new java.util.Date(reservation.actualCheckOut))}]]</td>
		</tr>
		<tr>
			<td>Reservation Place Id</td>
			<td>[[${reservation.place.id}]]</td>
		</tr>
		<tr>
			<td>Reservation Guest</td>
			<td>[[${reservation.guest.userDetails.email}]]</td>
		</tr>
		<tr>
			<td>Reservation State</td>
			<td>[[${reservation.reservationState}]]</td>
		</tr>
		<tr>
			<td>Reservation Weekday Rent Price</td>
			<td>[[${reservation.weekdayRentPrice}]]</td>
		</tr>
		<tr>
			<td>Reservation Weekday Rent Price</td>
			<td>[[${reservation.weekendRentPrice}]]</td>
		</tr>
	</table>
</body>
</html>